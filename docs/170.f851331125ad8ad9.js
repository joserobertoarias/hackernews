"use strict";(self.webpackChunkhackernewsapp=self.webpackChunkhackernewsapp||[]).push([[170],{2170:(P,c,a)=>{a.r(c),a.d(c,{AllNewsModule:()=>Z});var p=a(433),l=a(6895),u=a(6773),e=a(8256),h=a(2340),d=a(4004),_=a(529),g=a(8650);let f=(()=>{class t{constructor(n,o){this.httpClient=n,this.localStoreServie=o,this.apiUrl=h.N.apiUrl}getNews(n,o){return this.httpClient.get(`${this.apiUrl}?query=${n}&page=${o}`).pipe((0,d.U)(r=>r.hits.map(i=>({created_at:i.created_at,story_title:i.story_title,story_url:i.story_url,author:i.author,story_id:i.story_id,myfave:!1}))))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(_.eN),e.LFG(g.g))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var w=a(8330);const v=function(t){return{active:t}};function y(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"li",7)(1,"a",3),e.NdJ("click",function(){const i=e.CHM(n).$implicit,M=e.oxw(3);return e.KtG(M.to(i))}),e._uU(2),e.qZA()()}if(2&t){const n=s.$implicit,o=e.oxw(3);e.Q6J("ngClass",e.VKq(2,v,o.options.page===n)),e.xp6(2),e.Oqu(n)}}function C(t,s){if(1&t&&(e.ynx(0),e.YNc(1,y,3,4,"li",6),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.numbers)}}const m=function(t){return{disabled:t}};function N(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"nav")(1,"ul",1)(2,"li",2)(3,"a",3),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.prev())}),e._uU(4,"Previous"),e.qZA()(),e.YNc(5,C,2,1,"ng-container",0),e.TgZ(6,"li",4)(7,"a",5),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.next())}),e._uU(8,"Next"),e.qZA()()()()}if(2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(3,m,1===n.options.page)),e.xp6(3),e.Q6J("ngIf",n.response),e.xp6(1),e.Q6J("ngClass",e.VKq(5,m,n.options.page===n.numbers.length))}}let S=(()=>{class t{constructor(){this.page=new e.vpe}get numbers(){return this.options.total<=7?[...Array(this.options.total).keys()].map(n=>++n):this.options.page>5?this.options.page>=this.options.total-4?[1,this.options.total-4,this.options.total-3,this.options.total-2,this.options.total-1,this.options.total]:[1,this.options.page-1,this.options.page,this.options.page+1,this.options.total]:[1,2,3,4,5,this.options.total]}next(){this.options.page++,this.page.emit(this.options.page)}prev(){this.options.page--,this.page.emit(this.options.page)}to(n){this.options.page=n,this.page.emit(this.options.page)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-pagination"]],inputs:{response:"response",options:"options"},outputs:{page:"page"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"pagination","justify-content-center"],["id","prev",1,"page-item",3,"ngClass"],["href","#",1,"page-link",3,"click"],["id","next",1,"page-item",3,"ngClass"],["href","#","disabled","true",1,"page-link",3,"click"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"]],template:function(n,o){1&n&&e.YNc(0,N,9,7,"nav",0),2&n&&e.Q6J("ngIf",o.numbers.length>1)},dependencies:[l.mk,l.sg,l.O5]}),t})();function A(t,s){if(1&t&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.xp6(1),e.Oqu(n)}}let T=(()=>{class t{constructor(n){this.localStorageService=n,this.selectOptions=["angular","reactjs","vuejs"],this.queryOption=new e.vpe}ngOnInit(){let n=this.localStorageService.getSelectQuery();this.optionSelected=n??"",this.queryOption.emit(n)}changeSelect(n){this.localStorageService.saveSelectQuery(n.target.value),this.queryOption.emit(n.target.value)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.g))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-selector-news"]],outputs:{queryOption:"queryOption"},decls:5,vars:2,consts:[[1,"col-md-5"],["aria-label",".form-select-lg",1,"form-select","form-select-md","mb-3",3,"ngModel","ngModelChange","change"],["value","","selected",""],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"select",1),e.NdJ("ngModelChange",function(i){return o.optionSelected=i})("change",function(i){return o.changeSelect(i)}),e.TgZ(2,"option",2),e._uU(3,"Open this select menu"),e.qZA(),e.YNc(4,A,2,1,"option",3),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("ngModel",o.optionSelected),e.xp6(3),e.Q6J("ngForOf",o.selectOptions))},dependencies:[l.sg,p.YN,p.Kr,p.EJ,p.JJ,p.On]}),t})();function O(t,s){1&t&&e._UZ(0,"app-card-news",4),2&t&&e.Q6J("item",s.$implicit)}const J=[{path:"",component:(()=>{class t{constructor(n){this.hnService=n,this.options={size:20,page:0,query:"",total:50},this.lstNews=[]}ngOnInit(){}selectQuery(n){this.options.query=n,this.options.page=0,this.hnService.getNews(this.options.query,this.options.page).subscribe(o=>{this.lstNews=o})}goToPage(n){this.hnService.getNews(this.options.query,n).subscribe(o=>{this.lstNews=o})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-all-news"]],inputs:{queryLocalStorage:"queryLocalStorage"},decls:8,vars:3,consts:[[3,"queryOption"],[1,"row","row-cols-1","row-cols-md-2","g-4"],[3,"item",4,"ngFor","ngForOf"],[3,"options","response","page"],[3,"item"]],template:function(n,o){1&n&&(e.TgZ(0,"div")(1,"div")(2,"app-selector-news",0),e.NdJ("queryOption",function(){return o.queryLocalStorage})("queryOption",function(i){return o.selectQuery(i)}),e.qZA()(),e.TgZ(3,"div")(4,"div",1),e.YNc(5,O,1,1,"app-card-news",2),e.qZA()(),e.TgZ(6,"div")(7,"app-pagination",3),e.NdJ("page",function(i){return o.goToPage(i)}),e.qZA()()()),2&n&&(e.xp6(5),e.Q6J("ngForOf",o.lstNews),e.xp6(2),e.Q6J("options",o.options)("response",o.lstNews))},dependencies:[l.sg,w.w,S,T]}),t})()}];let q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(J),u.Bz]}),t})();var x=a(419);let F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.u5,l.ez]}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.ez,q,x.T,p.u5,F]}),t})()}}]);